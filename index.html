<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SchoolMate ‚Äî School Management</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="SchoolMate ‚Äî demo school ERP (frontend-only)" />
  <style>
    /* small helper if your stylesheet doesn't include these */
    .login-logo { font-size: 40px; margin-bottom: 8px; }
    .form-row { margin-bottom: 12px; }
    .controls { gap: 8px; display:flex; align-items:center; }
    .small-link { background:none;border:0;color:var(--link, #0078d4);cursor:pointer;padding:0;font-size:0.9rem; }
    .error { color: #b00020; font-size:0.9rem; margin-top:8px; display:none; }
    .sr-only {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
      white-space: nowrap; border: 0; padding: 0; margin: -1px;
    }
  </style>
</head>
<body>
  <div id="app" class="app-root">
    <header class="topbar card">
      <div class="brand">üè´ <strong>DIVYA DAYA CHAND SCHOOL</strong></div>
      <div class="top-actions" id="topActions"></div>
    </header>

    <aside class="sidebar">
      <div class="profile card" id="sideProfile"></div>
      <nav class="menu card" id="menu"></nav>
      <div class="card small muted footer-note">SchoolMate ‚Ä¢ Demo ‚Ä¢ Local</div>
    </aside>

    <main class="main" id="main"></main>

    <div id="toasts" class="toasts"></div>
  </div>

  <template id="login-template">
    <section class="card center" style="max-width:420px; margin:6vh auto; padding:20px;">
      <div style="text-align:center">
        <div class="login-logo" aria-hidden="true">üè´</div>
        <h2 style="margin:6px 0">Sign in to SchoolMate</h2>
        <div class="small" style="margin-bottom:8px">Use demo accounts: principal / priya / aman</div>
      </div>

      <form id="loginForm" novalidate>
        <div id="loginError" class="error" role="alert" aria-live="assertive"></div>

        <div class="form-row">
          <label for="li_email" class="small">Email</label>
          <input id="li_email" class="input" type="email" placeholder="you@example.com"
                 autocomplete="username" required aria-required="true" autofocus />
        </div>

        <div class="form-row">
          <label for="li_pass" class="small">Password</label>
          <input id="li_pass" class="input" type="password" placeholder="Password"
                 autocomplete="current-password" required aria-required="true" />
        </div>

        <div class="form-row" style="display:flex; justify-content:space-between; align-items:center;">
          <label style="display:flex; align-items:center; gap:8px; font-size:0.9rem;">
            <input id="remember" type="checkbox" /> Remember me
          </label>
          <button type="button" class="small-link" id="forgotBtn">Forgot?</button>
        </div>

        <div style="height:8px"></div>

        <div class="controls" style="justify-content:center">
          <button id="li_btn" class="btn primary" type="submit">Login</button>
          <button id="demoBtn" class="btn ghost" type="button">Fill Demo</button>
        </div>
      </form>
    </section>
  </template>

  <script src="app.js"></script>
  <script>
    // small progressive enhancement to show validation messages if your app.js doesn't handle them
    (function(){
      const form = document.getElementById('loginForm');
      const errorEl = document.getElementById('loginError');
      if (!form) return;
      form.addEventListener('submit', function(e){
        // let app.js handle real auth; prevent default so page doesn't reload
        e.preventDefault();
        errorEl.style.display = 'none';
        if (!form.checkValidity()) {
          errorEl.textContent = 'Please fill in a valid email and password.';
          errorEl.style.display = 'block';
          return;
        }
        // trigger your existing login button click so existing handlers still run
        const btn = document.getElementById('li_btn');
        if (btn) btn.dispatchEvent(new Event('click', { bubbles: true, cancelable: true }));
      });
    })();
  </script>
</body>
